<div class="panel panel-info" style="width:400px;">
  <div class="panel-heading">Student id: {{data.id}}</div>
  <div class="panel-body">
    <form class="mat-dialog-content" (ngSubmit)="submit" #formControl="ngForm">
      <div class="form">
        <mat-form-field color="accent">
          <input matInput #input class="form-control" placeholder="Id" [(ngModel)]="data.id" name="id" required=false>
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        </mat-form-field>
      </div>
      <!--Textarea for demo purposes-->
      <div class="form">
        <mat-form-field color="accent">
          <textarea matInput #input class="form-control" placeholder="Name" [(ngModel)]="data.Name" name="Name" required=false></textarea>
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        </mat-form-field>
      </div>
      <!--Contains mat-hint for characters count and has maxLengt set-->
      <div class="form">
        <mat-form-field color="accent">
          <input matInput #inputstate class="form-control" placeholder="Category" [(ngModel)]="data.Category" name="Category" maxlength="70" required=false>
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          <mat-hint align="end">{{inputstate.value?.length || 0}}/70</mat-hint>
        </mat-form-field>
      </div>
      <div class="form">
        <mat-form-field color="accent">
          <input matInput placeholder="Price" [(ngModel)]="data.Price" name="Price">
        </mat-form-field>
      </div>

      <div class="form">
        <mat-accordion>
          <mat-expansion-panel class="panel panel-info">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Personal data
              </mat-panel-title>
              <mat-panel-description>
                Personal Information
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="form">
              <mat-form-field color="accent">
                <input matInput placeholder="Price" [(ngModel)]="data.Price" name="Price">
              </mat-form-field>
            </div>
            <br />
            <div class="row">
              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Employee ID" name="code" id="code" [ngModel]="(data$ | async)?.code" required=false minlength="4">
                </mat-form-field>
              </div>

              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Employee Secret Key" name="SKEY" id="SKEY" [ngModel]="(data$ | async)?.SKEY" required=false minlength="2">
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="First name" name="descr" id="descr" [ngModel]="(data$ | async)?.descr" required=false minlength="4">
                </mat-form-field>
              </div>
              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Last name" name="LAST_NAME" id="LAST_NAME" [ngModel]="(data$ | async)?.LAST_NAME" required=false minlength="4">
                </mat-form-field>
              </div>
            </div>

            <!--<mat-form-field>
    <input matInput placeholder="First name" name="descr" id="descr" [ngModel]="(data$ | async)?.descr" required=false minlength="4">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Middle name" name="MIDDLE_NAME" id="MIDDLE_NAME" [ngModel]="(data$ | async)?.MIDDLE_NAME" minlength="4">
  </mat-form-field>
  <mat-form-field>
    <input matInput placeholder="Last name" name="LAST_NAME" id="LAST_NAME" [ngModel]="(data$ | async)?.LAST_NAME" required=false minlength="4">
  </mat-form-field>-->
            <div class="row">
              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Date of Birth" type="date" name="DOB" id="DOB" [ngModel]="(data$ | async)?.DOB" required=false>
                </mat-form-field>
              </div>
              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Spouse Date of Birth" type="date" name="SDOB" id="SDOB" [ngModel]="(data$ | async)?.SDOB">
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Mother's name" name="MOTHER_NAME" id="MOTHER_NAME" [ngModel]="(data$ | async)?.MOTHER_NAME" minlength="4">
                </mat-form-field>
              </div>

              <div class="col-sm-6">
                <mat-form-field>
                  <input matInput placeholder="Father's name" name="FATHER_NAME" id="FATHER_NAME" [ngModel]="(data$ | async)?.FATHER_NAME" minlength="4">
                </mat-form-field>
              </div>
            </div>

            
              
          </mat-expansion-panel>
          <mat-expansion-panel class="panel panel-info">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Address
              </mat-panel-title>
              <mat-panel-description>
                &nbsp;&nbsp;&nbsp;&nbsp;Contact Details
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field>
              <input matInput placeholder="Address Type" name="ADD_TYPE_1" id="ADD_TYPE_1" [ngModel]="(data$ | async)?.ADD_TYPE_1" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Address Line 1" name="ADD_LINE_1" id="ADD_LINE_1" [ngModel]="(data$ | async)?.ADD_LINE_1" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Address Line 2" name="ADD_LINE_2" id="ADD_LINE_2" [ngModel]="(data$ | async)?.ADD_LINE_2">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Pin Code" name="PIN_CODE" id="PIN_CODE" [ngModel]="(data$ | async)?.PIN_CODE">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="State" name="STATE" id="STATE" [ngModel]="(data$ | async)?.STATE">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Country" name="COUNTRY" id="COUNTRY" [ngModel]="(data$ | async)?.COUNTRY">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Address Type (2)" name="ADD_TYPE_2" id="ADD_TYPE_2" [ngModel]="(data$ | async)?.ADD_TYPE_2" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Address Line 1" name="ADD_LINE_12" id="ADD_LINE_12" [ngModel]="(data$ | async)?.ADD_LINE_12" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Address Line 2" name="ADD_LINE_22" id="ADD_LINE_22" [ngModel]="(data$ | async)?.ADD_LINE_22">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Pin Code" name="PIN_CODE2" id="PIN_CODE2" [ngModel]="(data$ | async)?.PIN_CODE2">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="State" name="STATE2" id="STATE2" [ngModel]="(data$ | async)?.STATE2">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Country" name="COUNTRY2" id="COUNTRY2" [ngModel]="(data$ | async)?.COUNTRY2">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Mobile 1" name="MOBILE1" id="MOBILE1" [ngModel]="(data$ | async)?.MOBILE1" phone minlength="10">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Mobile 2" name="MOBILE2" id="MOBILE2" [ngModel]="(data$ | async)?.MOBILE2" phone minlength="10">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Email 1" name="EMAIL1" id="EMAIL1" [ngModel]="(data$ | async)?.EMAIL1" phone minlength="10">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Email 2" name="EMAIL2" id="EMAIL2" [ngModel]="(data$ | async)?.EMAIL2" phone minlength="10">
            </mat-form-field>
          </mat-expansion-panel>
          <mat-expansion-panel class="panel panel-info">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Qualifications
              </mat-panel-title>
              <mat-panel-description>
                Performance Details
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field>
              <input matInput placeholder="Degree(s)" name="DEGREE" id="DEGREE" [ngModel]="(data$ | async)?.DEGREE" minlength="4">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Last College Attended" name="COLLEGE" id="COLLEGE" [ngModel]="(data$ | async)?.COLLEGE" minlength="4">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="College Address Line 1" name="ADD_LINE_C1" id="ADD_LINE_C1" [ngModel]="(data$ | async)?.ADD_LINE_C1" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="College Address Line 2" name="ADD_LINE_C2" id="ADD_LINE_C2" [ngModel]="(data$ | async)?.ADD_LINE_C2">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="College Pin Code" name="PIN_CODE_C" id="PIN_CODE_C" [ngModel]="(data$ | async)?.PIN_CODE_C">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="College State" name="STATE_C" id="STATE_C" [ngModel]="(data$ | async)?.STATE_C">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="College Country" name="COUNTRY_C" id="COUNTRY_C" [ngModel]="(data$ | async)?.COUNTRY_C">
            </mat-form-field>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                References
              </mat-panel-title>
              <mat-panel-description>
                &nbsp;References Details
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field>
              <input matInput placeholder="Reference 1" name="REFERENCE_1" id="REFERENCE_1" [ngModel]="(data$ | async)?.REFERENCE_1" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Reference 1 Address" name="REFERENCE_1_ADD" id="REFERENCE_1_ADD" [ngModel]="(data$ | async)?.REFERENCE_1_ADD" minlength="4">
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput placeholder="Reference 2" name="REFERENCE_2" id="REFERENCE_2" [ngModel]="(data$ | async)?.REFERENCE_2" minlength="4">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="Reference 2 Address" name="REFERENCE_2_ADD" id="REFERENCE_2_ADD" [ngModel]="(data$ | async)?.REFERENCE_2_ADD" minlength="4">
            </mat-form-field>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                HR/Admin 
              </mat-panel-title>
              <mat-panel-description>
                &nbsp;&nbsp;&nbsp;&nbsp;Compensation Details
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field>
              <mat-select placeholder="Salary Code" name="SALARY_CODE" id="SALARY_CODE" [ngModel]="(data$ | async)?.SALARY_CODE" required=false>
                <mat-option *ngFor="let code of salCDs$" [value]="code._id">
                  {{ code.code }} - {{ code.descr }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </mat-expansion-panel>
        </mat-accordion>
      </div>

    </form>
  </div>

  <div class="panel-footer">
    <div class="row">
      <div class="col-sm-6"></div>
      <div class="col-sm-6">
      <button class="btn btn-primary btn-sm" [type]="submit" [disabled]="!formControl.valid" [mat-dialog-close]="1" (click)="stopEdit()">Save</button>
      &nbsp;|&nbsp;<button class="btn btn-primary btn-sm" (click)="onNoClick()" tabindex="-1">Cancel</button></div>
    </div>

  </div>
</div>


